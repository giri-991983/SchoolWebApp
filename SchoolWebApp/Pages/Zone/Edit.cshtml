@model dynamic

<div class="offcanvas offcanvas-end" tabindex="-1" id="editZoneOffcanvas_@Model.Zone.ZoneID" aria-labelledby="editZoneOffcanvasLabel_@Model.Zone.ZoneID">
    <div class="offcanvas-header border-bottom">
        <h5 class="offcanvas-title" id="editZoneOffcanvasLabel_@Model.Zone.ZoneID">Edit Zone</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body mx-0 flex-grow-0">
      
            <form id="editZoneForm_@Model.Zone.ZoneID" method="post" enctype="multipart/form-data" asp-page-handler="EditZone">
                @Html.AntiForgeryToken()
                <input type="hidden" name="Zone.ZoneID" value="@Model.Zone.ZoneID" />

                <!-- Institution Dropdown -->
            <div class="form-floating form-floating-outline mb-4">
                <select name="Zone.InstitutionID" id="InstitutionID_@Model.Zone.ZoneID" class="form-control">
                    <!-- Populate with institutions, pre-select current -->
                    <option value="@Model.Zone.InstitutionID" selected>@Model.Zone.Institution?.InstitutionName</option>
                </select>
                <label for="InstitutionID_@Model.Zone.ZoneID">Institution</label>
                <span class="text-danger"></span>
            </div>

                <!-- ZGUID -->
                <div class="form-floating form-floating-outline mb-4">
                    <input type="text" name="Zone.ZGUID" id="ZGUID_@Model.Zone.ZoneID" 
                           class="form-control" value="@Model.Zone.ZGUID" maxlength="50" required />
                    <label for="ZGUID_@Model.Zone.ZoneID">ZGUID</label>
                    <span class="text-danger"></span>
                </div>

                <!-- Zone Name -->
                <div class="form-floating form-floating-outline mb-4">
                    <input type="text" name="Zone.ZoneName" id="ZoneName_@Model.Zone.ZoneID" 
                           class="form-control" value="@Model.Zone.ZoneName" maxlength="100" required />
                    <label for="ZoneName_@Model.Zone.ZoneID">Zone Name</label>
                    <span class="text-danger"></span>
                </div>

                <!-- Short Code -->
                <div class="form-floating form-floating-outline mb-4">
                    <input type="text" name="Zone.ShortCode" id="ShortCode_@Model.Zone.ZoneID" 
                           class="form-control" value="@Model.Zone.ShortCode" maxlength="10" />
                    <label for="ShortCode_@Model.Zone.ZoneID">Short Code</label>
                    <span class="text-danger"></span>
                </div>

                <!-- Status Dropdown -->
            <div class="form-floating form-floating-outline mb-4">
                <select name="Zone.Status" id="Status_@Model.Zone.ZoneID" class="form-control" required>
                    <option value="">Select Status</option>
                    @foreach (var item in Model.Statuses)
                    {
                        <option value="@item.Value" selected="@(item.Value == Model.Zone.Status.ToString() ? "selected" : null)">@item.Text</option>
                    }
                </select>
                <label for="Status_@Model.Zone.ZoneID">Status</label>
                <span class="text-danger"></span>
            </div>
                <!-- Created Date -->
                <div class="form-floating form-floating-outline mb-4">
                    <input type="date" name="Zone.CreatedDate" id="CreatedDate_@Model.Zone.ZoneID"
                       class="form-control" value="@Model.Zone.CreatedDate.ToString("yyyy-MM-dd")" required />
                    <label for="CreatedDate_@Model.Zone.ZoneID">Created Date</label>
                    <span class="text-danger"></span>
                </div>

                <!-- Submit/Cancel Buttons -->
                <div class="row">
                    <div class="col-12">
                        <button type="submit" class="btn btn-primary me-3 edit-submit-btn" 
                                data-id="@Model.Zone.ZoneID">Submit</button>
                        <button type="reset" class="btn btn-outline-secondary" data-bs-dismiss="offcanvas">Cancel</button>
                    </div>
                </div>
            </form>
       
    </div>
</div>